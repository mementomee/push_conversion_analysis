# 📊 Push Conversion Analysis Project

## Комплексний аналіз впливу push-сповіщень на конверсію користувачів Android-застосунків

---

### 🎯 Огляд проекту

Цей проект досліджує ефективність push-сповіщень через A/B тестування з контрольною групою та географічною сегментацією. Основна мета - визначити оптимальні push-стратегії для різних tier-ів користувачів та максимізувати як конверсію, так і дохід.

### 🏆 Критичні результати дослідження

#### 📊 **Загальна статистика:**
* 👥 **Проаналізовано: 3,847,937** користувачів (включно з контрольною групою)
* 💰 **Депозити: 49,781 (1.29% середня конверсія)**
* 💵 **Загальний дохід: $277,814**
* 📈 **ARPU: $0.072** (середній по всіх групах)

#### 🔍 **Ключове відкриття:**
**Універсальна push-стратегія неефективна!** Контрольна группа (без push-ів) показала найкращу конверсію (1.37%), але tier-специфічний аналіз виявив кардинально різні результати по географічних сегментах.

#### 💡 **Економічне обґрунтування по Tier-ах:**
* 🥇 **Tier 1 (177k користувачів): ARPU $0.706** - в 6 разів вищий за інші!
* 🥈 **Tier 2 (839k користувачів): ARPU $0.128** - масовий сегмент
* 🏷️ **Other (385k користувачів): Конверсія 4.96%** - унікально висока!
* 🥉 **Tier 3 (377k користувачів): ARPU $0.012** - мізерний, push-и шкодять

---

### 📁 Структура проекту

```bash
push_conversion_analysis/
├── config/                         # Конфігурація проекту
│   ├── database_config.py          # Підключення до ClickHouse
│   └── constants.py                # Константи (дати, tier, фільтри)
│
├── notebooks/                      # Jupyter ноутбуки дослідження
│   ├── 00_setup_and_connection.ipynb    # Налаштування БД
│   ├── 01_eda_statistic.ipynb           # EDA push-сповіщень
│   ├── 02_eda_keitaro.ipynb             # EDA конверсій
│   ├── 03_data_matching.ipynb           # Матчинг даних по gadid
│   └── 04_final_analysis.ipynb          # 🎯 ГОЛОВНИЙ АНАЛІЗ
│
├── src/                            # Основний код
│   ├── database.py                     # ClickHouse клієнт
│   ├── data_loader.py                  # Завантаження даних
│   ├── analyzer.py                     # Статистичний аналіз
│   └── visualizer.py                   # Візуалізації
│
├── data/                           # Дані проекту
│   ├── raw/                           # Сирі дані з БД
│   ├── processed/                     # Оброблені datasets
│   │   ├── ab_analysis_ready_with_control.parquet
│   │   ├── geo_analysis_ready_with_control.parquet
│   │   └── matched_push_conversions_with_control.parquet
│   └── cache/                         # Кеш запитів
│
├── outputs/                        # Результати аналізу
│   ├── charts/                        # Візуалізації
│   │   ├── ab_analysis_with_control_*.png
│   │   ├── tier_analysis_*.png
│   │   └── tmnt_groups_analysis.png
│   ├── tables/                        # CSV експорти
│   └── final_results/                 # 🏆 ФІНАЛЬНІ РЕЗУЛЬТАТИ
│       ├── ab_test_summary.csv
│       ├── business_recommendations.json
│       ├── statistical_tests.json
│       └── tier_specific_recommendations.json
│
├── requirements.txt                # Python залежності
└── README.md                      # Документація
```

#### 🚀 **Послідовність виконання:**
1. `00_setup_and_connection.ipynb` - налаштування середовища
2. `01_eda_statistic.ipynb` - дослідження push-даних
3. `02_eda_keitaro.ipynb` - дослідження конверсій
4. `03_data_matching.ipynb` - об'єднання datasets
5. **`04_final_analysis.ipynb` - 🎯 ГОЛОВНИЙ ФАЙЛ З ВИСНОВКАМИ**

---

### 📊 Методологія дослідження

#### 🔍 Джерела даних
| База      | Опис            | Ключові поля                                        |
| --------- | --------------- | --------------------------------------------------- |
| statistic | Push-сповіщення | gadid, ab_group (1-6), push_count, created_at      |
| keitaro   | Конверсії       | gadid (sub_14), has_deposit, revenue               |
| device    | Географія       | gadid, country, tier_final                          |

#### 📅 Період аналізу
* **Дати:** 22.05.2025 - 29.05.2025 (7 днів)
* **Платформа:** Android (type = 1)
* **Матчинг:** по gadid між базами

#### 🧪 A/B тестування
* **Push-групи:** 1-5 (різна частота push-ів: 5.6-25.9/день)
* **Контрольна група:** 6 (0 push-ів для порівняння)
* **Метрики:** конверсія, ARPU, загальний дохід
* **Сегментація:** Tier 1/2/3, Other + TMNT групи застосунків

---

### 🏆 Ключові результати A/B тестування

#### 📊 **Статистична значущість:**
* **Chi-square тест:** p = 1.24e-09 ✅ ЗНАЧУЩИЙ
* **Попарні порівняння:** 8/15 значущих з FDR корекцією
* **Cramér's V:** 0.0036 (малий, але стабільний ефект)

#### 🥇 **A/B групи результати:**

| Група | Користувачі | Конверсія | ARPU    | Push/день | Тип     |
|-------|-------------|-----------|---------|-----------|---------|
| **1** | 643,636     | **1.30%** | $0.064  | 5.6       | Push    |
| **2** | 644,463     | 1.29%     | $0.068  | 10.9      | Push    |
| **3** | 643,002     | 1.27%     | $0.073  | 16.4      | Push    |
| **4** | 642,431     | 1.23%     | **$0.079** | 21.4   | Push    |
| **5** | 645,896     | **1.30%** | $0.068  | 25.9      | Push    |
| **6** | 628,509     | **1.37%** | **$0.080** | 0.0    | Control |

#### 💡 **Критичний інсайт:**
Контрольна група показала найкращі результати, але tier-аналіз виявив, що push-и ефективні для Tier 1 і Tier 2, але шкодять для Tier 3!

---

### 🎯 Tier-специфічні стратегії

#### 🥇 **Tier 1 - VIP стратегія (177,184 користувачів)**
```
💰 ARPU: $0.706 (КРИТИЧНО ВАЖЛИВИЙ СЕГМЕНТ)
📱 Рекомендація: Група 4 (21.4 push/день)
📈 Очікувана конверсія: 2.47%
🎯 Підхід: Преміум якість для VIP користувачів
⚡ Пріоритет: МАКСИМАЛЬНИЙ
```

#### 🥈 **Tier 2 - Масова стратегія (838,690 користувачів)**
```
💰 ARPU: $0.128 (найбільша аудиторія)
📱 Рекомендація: Група 5 (25.9 push/день)
📈 Очікувана конверсія: 2.46%
🎯 Підхід: Агресивні push-кампанії
⚡ Пріоритет: ВИСОКИЙ
```

#### 🚫 **Tier 3 - Мінімалістична стратегія (377,063 користувачів)**
```
💰 ARPU: $0.012 (мізерний - у 81 раз менший за Tier 1!)
📱 Рекомендація: Контроль (0 push-ів)
📈 Очікувана конверсія: 1.56%
🎯 Підхід: ПОВНА ВІДМОВА від push-ів
⚡ Пріоритет: НИЗЬКИЙ
```

#### ⚖️ **Other - Збалансована стратегія (385,424 користувачів)**
```
💰 ARPU: $0.128 + унікальна конверсія 4.96%!
📱 Рекомендація: Група 1 (5.6 push/день)
📈 Очікувана конверсія: 4.96% (найвища!)
🎯 Підхід: Обережні, але ефективні push-и
⚡ Пріоритет: СЕРЕДНІЙ
```

---

#### 🏁 **Матриця інвестицій:**
1. **Tier 1:** Максимальні інвестиції (висока віддача)
2. **Tier 2:** Масштабні інвестиції (великий обсяг)  
3. **Other:** Помірні інвестиції (висока ефективність)
4. **Tier 3:** Мінімальні інвестиції (збереження ресурсів)

---

### 🔬 TMNT групи застосунків

#### 🐢 **Аналіз за застосунками:**
| Застосунок | Користувачі | Avg Push | Конверсія % | ARPU $ |
|------------|-------------|----------|-------------|---------|
| **Yarik (Michelangelo)** | 4,135 | 41.7 | **21.86%** | $0.05 |
| **Splinter (Oleksandr)** | 137,795 | 2,137.4 | **21.17%** | **$0.62** |
| **Bohdan (Raphael)** | 20,584 | 14.5 | 16.61% | $1.25 |
| **Zhenya (Leonardo)** | 54,985 | 18.2 | 14.00% | $2.11 |

**Лідери:** Yarik + Splinter показують найкращі результати по конверсії!

---

### 📋 Стратегічні рекомендації

#### 🎯 **Головна рекомендація:**
**Впроваджувати tier-специфічні push-стратегії замість універсального підходу**

#### 🚀 **План впровадження:**
1. **Фаза 1:** Пілотне тестування на 5% аудиторії кожного tier-у
2. **Фаза 2:** Поступове розгортання tier-стратегій
3. **Фаза 3:** Повне впровадження з моніторингом KPI

#### ⚠️ **Критичні ризики:**
* **Tier 1:** Втрата VIP клієнтів через погані push-и
* **Tier 2:** Spam-скарги через великий обсяг
* **Tier 3:** Погіршення мізерного ARPU
* **Other:** Втрата унікальної конверсії

---

### 🛠 Технічні деталі

#### 💻 **Технологічний стек:**
* **Python 3.8+** - основна мова розробки
* **ClickHouse** - аналітична СУБД
* **Pandas/NumPy** - обробка даних
* **Jupyter Lab** - дослідницьке середовище
* **Matplotlib/Seaborn** - візуалізація
* **SciPy** - статистичні тести

#### 🏗 **Архітектура аналізу:**
```text
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   ClickHouse    │───▶│  Data Loading    │───▶│  A/B Analysis   │
│   (3 databases) │    │  & Matching      │    │  & Statistics   │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                                   │
                       ┌──────────────────┐    ┌─────────────────┐
                       │  Tier Analysis   │───▶│  Business       │
                       │  & Segmentation  │    │  Recommendations│
                       └──────────────────┘    └─────────────────┘
```